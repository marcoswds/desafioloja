const ADMIN=new Vue({el:"#admin",data:{arrProdutoNovo:[],arrProdutos:[],vendas_confirmadas:"0.00",vendas_total:"0.00",money:{decimal:".",thousands:"",prefix:"",suffix:"",precision:2,masked:!1}},methods:{getProdutos:function(){axios.get("ajax/produto/carregaProdutos.php").then(o=>{this.arrProdutos=o.data})},getVendas:function(){axios.get("ajax/documento/getVendas.php").then(o=>{o.data.length>0&&(this.vendas_confirmadas=o.data[0].valor_confirmado,this.vendas_total=o.data[0].valor_total)})},submitForm:function(o=!0){$("#btn_criar").attr("disabled",!0);var t=!1;if(document.querySelectorAll("[required]").forEach(function(o){o.validity.valid||null!=o.title&&(t=!0,M.toast({html:'<i class="material-icons left">close</i> Favor preencher o campo '+o.title+"!",classes:"red",displayLength:"3000"}))}),!t){var a={cd_produto:this.arrProdutoNovo.cd_produto};axios.post("ajax/produto/validaProduto.php",Object.assign({},a)).then(t=>{t.data.length>0?M.toast({html:'<i class="material-icons left">close</i> Já existe um produto com o mesmo código!',classes:"red",displayLength:"5000"}):axios.post("ajax/produto/incluirProduto.php",Object.assign({},this.arrProdutoNovo)).then(t=>{1==t.data.sucesso?(M.toast({html:"Produto cadastrado com sucesso!",classes:"green",displayLength:"3000"}),this.getProdutos(),o?(this.arrProdutoNovo={},$("#modal_novo_produto").modal("close")):this.arrProdutoNovo={}):M.toast({html:'<i class="material-icons left">close</i>O sistema não conseguiu incluir um produto. Favor verificar sua conexão.',classes:"red",displayLength:"5000"})})})}$("#btn_criar").removeAttr("disabled")}},mounted(){$(".tabs").tabs(),$(".modal").modal(),$(".tooltipped").tooltip(),this.getProdutos(),this.getVendas()}});