const VENDEDOR=new Vue({el:"#vendedor",data:{arrProdutoNovo:[],arrProdutos:[],id_documento:"",cd_produto:""},methods:{getProdutos:function(){var o={id_documento:this.id_documento};axios.post("ajax/documento/getDocumentoItem.php",Object.assign({},o)).then(o=>{this.arrProdutos=o.data})},atualizaValorDocumento:function(){var o={id_documento:this.id_documento};axios.post("ajax/documento/atualizaValorDocumento.php",Object.assign({},o)).then(o=>{})},incluirProduto:function(){return new Promise(o=>{0==this.id_documento?axios.get("ajax/documento/incluirDocumento.php").then(t=>{this.id_documento=t.data.id,o()}):o()}).then(o=>{var t={cd_produto:this.cd_produto};axios.post("ajax/produto/validaProduto.php",Object.assign({},t)).then(o=>{var t=o.data;if(0==t.length)M.toast({html:'<i class="material-icons left">close</i> Não existe produto com este código!',classes:"red",displayLength:"5000"});else{var s={id_documento:this.id_documento,id_produto:t[0].id_produto};axios.post("ajax/documento/incluirDocumentoItem.php",Object.assign({},s)).then(o=>{1==o.data.sucesso?(M.toast({html:"Produto incluído com sucesso!",classes:"green",displayLength:"3000"}),this.getProdutos(),this.atualizaValorDocumento()):M.toast({html:'<i class="material-icons left">close</i>O sistema não conseguiu incluir um produto na lista. Favor verificar sua conexão.',classes:"red",displayLength:"5000"})})}})})},confirmaDocumento:function(){if(""!=this.id_documento){var o={id_documento:this.id_documento};axios.post("ajax/documento/confirmaDocumento.php",Object.assign({},o)).then(o=>{1==o.data.sucesso?(M.toast({html:"Venda registrada com sucesso!",classes:"green",displayLength:"3000"}),this.arrProdutos=[],this.id_documento="",this.cd_produto=""):M.toast({html:'<i class="material-icons left">close</i>O sistema não conseguiu concluir sua requisição. Favor verificar sua conexão.',classes:"red",displayLength:"5000"})})}else M.toast({html:'<i class="material-icons left">close</i>Para confirmar uma venda é necessário pelo menos 1 item.',classes:"red",displayLength:"5000"})},cancelaDocumento:function(){var o={id_documento:this.id_documento};axios.post("ajax/documento/cancelaDocumento.php",Object.assign({},o)).then(o=>{this.arrProdutos=[],this.id_documento="",this.cd_produto=""})}},mounted(){$(".tabs").tabs(),$(".modal").modal(),$(".tooltipped").tooltip()}});